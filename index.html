<!DOCTYPE HTML>
<html>
	<head>
		<title>Shiny Bingo Card</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
        <link rel="stylesheet" href="assets/css/fontawesome-all.min.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<div class="logo">
							<span class="fas fa-dice-d20"></span>
						</div>
						<div class="content">
							<div class="inner">
								<table id="bingoTable" class="table table-bordered">
									<thead>
										<tr>
											<th>B</th>
											<th>I</th>
											<th>N</th>
											<th>G</th>
											<th>O</th>
										</tr>
									</thead>
									<tbody>
                                        <tr>
                                            <td><img src="images/Pokemon/SV/001.png" alt="Image 1" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/002.png" alt="Image 2" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/003.png" alt="Image 3" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/004.png" alt="Image 4" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/005.png" alt="Image 5" class="img-fluid" /></td>
                                        </tr>
                                        <tr>
                                            <td><img src="images/Pokemon/SV/006.png" alt="Image 6" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/007.png" alt="Image 7" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/008.png" alt="Image 8" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/009.png" alt="Image 9" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/010.png" alt="Image 10" class="img-fluid" /></td>
                                        </tr>
                                        <tr>
                                            <td><img src="images/Pokemon/SV/011.png" alt="Image 11" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/012.png" alt="Image 12" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/013.png" alt="Image 13" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/014.png" alt="Image 14" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/015.png" class="img-fluid" /></td>
                                        </tr>
                                        <tr>
                                            <td><img src="images/Pokemon/SV/016.png" alt="Image 16" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/017.png" alt="Image 17" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/018.png" alt="Image 18" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/019.png" alt="Image 19" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/020.png" class="img-fluid" /></td>
                                        </tr>
                                        <tr>
                                            <td><img src="images/Pokemon/SV/021.png" alt="Image 21" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/022.png" alt="Image 22" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/023.png" alt="Image 23" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/024.png" alt="Image 24" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/025.png" class="img-fluid" /></td>
                                        </tr>
									</tbody>
								</table>
							</div>
						</div>
                        <nav>
							<ul>
								<li><button id="exportButton">Export as PNG</button></li>
							</ul>
						</nav>
                    </div>
                    <!-- BG -->
                        <div id="bg"></div>
            
                    <!-- Scripts -->
                     
                        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                        <script src="assets/js/jquery.min.js"></script>
                        <script src="assets/js/browser.min.js"></script>
                        <script src="assets/js/breakpoints.min.js"></script>
                        <script src="assets/js/util.js"></script>
                        <script src="assets/js/main.js"></script>
                        <!-- Include html2canvas -->
                        <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
                        <!-- Include dom-to-image -->
                        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/dom-to-image/2.6.0/dom-to-image.min.js"></script> -->
                        <!-- Include dom-to-image-more -->
                        <script src="https://cdn.jsdelivr.net/npm/dom-to-image-more@2.8.0/dist/dom-to-image-more.min.js"></script>

                        <script>
                            $(document).ready(function() {
                                $('#bingoTable').updateImageUrls();
                                setTimeout(function() {
                                $('.logo .fas').removeClass('spin');
                                }, 500); // Remove the spin class after 0.5 seconds

                                // Add click event listener to update image URL on click
                                $('#bingoTable img').on('click', function() {
                                    var randomNum = Math.floor(Math.random() * 1025) + 1;
                                    var formattedNum = randomNum.toString().padStart(3, '0');
                                    var newUrl = 'images/Pokemon/SV/' + formattedNum + '.png';
                                    $(this).attr('src', newUrl);
                                });

                                //Add click event listener to export table as PNG usinbg html2canvas
                                // $('#exportButton').on('click', function() {
                                //     setTimeout(function() {
                                //         html2canvas(document.querySelector("#bingoTable"), {
                                //             logging: true,
                                //             scale: 2
                                //         }).then(canvas => {
                                //             var link = document.createElement('a');
                                //             link.href = canvas.toDataURL();
                                //             link.download = 'bingoTable.png';
                                //             link.click();
                                //         });
                                //     }, 1000); // Add a delay to ensure the table is fully rendered
                                // });

                                // Add click event listener to export table as JPEG using dom-to-image
                                $('#exportButton').on('click', function() {
                                    domtoimage.toPng(document.getElementById('bingoTable'), { quality: 0.95 })
                                        .then(function (dataUrl) {
                                            var link = document.createElement('a');
                                            link.download = 'bingoTable.png';
                                            link.href = dataUrl;
                                            link.click();
                                        })
                                        .catch(function (error) {
                                            console.error('oops, something went wrong!', error);
                                        });
                                });
                            });
                        </script>
                </body>
            </html>
            