<!DOCTYPE HTML>
<html>
	<head>
		<title>Shiny Bingo Card</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
        <link rel="stylesheet" href="assets/css/fontawesome-all.min.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<div class="logo">
							<span class="fas fa-dice-d20"></span>
						    </div>
                            <nav>
                                <ul>
                                    <li><button id="exportButton">Export as PNG</button></li>
                                    <li>
                                        <div class="button-group">
                                        <button>Free Space: </button>
                                        <button>
                                            <input id="freeSpaceNumber" min="1" max="1025" placeholder="Enter #" />
                                        </button>
                                            <select id="freeSpaceGeneration">
                                                <option value="SV">SV</option>
                                                <option value="SS">SS</option>
                                                <option value="XY">XY</option>
                                                <option value="BW">BW</option>
                                                <option value="HGSS">HGSS</option>
                                                <option value="DPPT">DPPT</option>
                                                <option value="RSE">RSE</option>
                                                <option value="GSC">GSC</option>
                                            </select>
                                        <button id="freeSpaceButton">Set</button>
                                    </div>
                                    </li>
                                    <li><button><a href="#intro">How to Use...</a></button></li>
                                </ul>
                            </nav>
                        <div class="content">
							<div class="inner">
                                <div id="exportArea">
                                    <h2>Shiny Bingo Card</h2>
								<table id="bingoTable" class="table table-bordered">
									<thead>
										<tr>
											<th style="text-align: center; padding-top: 30px;"><H1>B</H1></th>
											<th style="text-align: center;"><H1>I</H1></th>
											<th style="text-align: center;"><H1>N</H1></th>
											<th style="text-align: center;"><H1>G</H1></th>
											<th style="text-align: center;"><H1>O</H1></th>
										</tr>
									</thead>
									<tbody>
                                        <tr>
                                            <td><img src="images/Pokemon/SV/001.png" alt="Image 1" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/002.png" alt="Image 2" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/003.png" alt="Image 3" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/004.png" alt="Image 4" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/005.png" alt="Image 5" class="img-fluid" /></td>
                                        </tr>
                                        <tr>
                                            <td><img src="images/Pokemon/SV/006.png" alt="Image 6" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/007.png" alt="Image 7" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/008.png" alt="Image 8" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/009.png" alt="Image 9" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/010.png" alt="Image 10" class="img-fluid" /></td>
                                        </tr>
                                        <tr>
                                            <td><img src="images/Pokemon/SV/011.png" alt="Image 11" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/012.png" alt="Image 12" class="img-fluid" /></td>
                                            <td><img id="freeSpace" src="images/Pokemon/SV/013.png" alt="Image 13" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/014.png" alt="Image 14" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/015.png" class="img-fluid" /></td>
                                        </tr>
                                        <tr>
                                            <td><img src="images/Pokemon/SV/016.png" alt="Image 16" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/017.png" alt="Image 17" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/018.png" alt="Image 18" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/019.png" alt="Image 19" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/020.png" class="img-fluid" /></td>
                                        </tr>
                                        <tr>
                                            <td><img src="images/Pokemon/SV/021.png" alt="Image 21" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/022.png" alt="Image 22" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/023.png" alt="Image 23" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/024.png" alt="Image 24" class="img-fluid" /></td>
                                            <td><img src="images/Pokemon/SV/025.png" alt="Image 25" class="img-fluid" /></td>
                                        </tr>
									</tbody>
								</table>
                            </div>
							</div>
						</div>

                    </header>
                    <div id="main">
                        
                        <!-- Intro -->
                        <article id="intro">
                            <h2 class="major">How to Use...</h2>
                            <span class="image main"><img src="images/pic01.jpg" alt="" /></span>
                            <p>Aenean ornare velit lacus, ac varius enim ullamcorper eu. Proin aliquam facilisis ante interdum congue. Integer mollis, nisl amet convallis, porttitor magna ullamcorper, amet egestas mauris. Ut magna finibus nisi nec lacinia. Nam maximus erat id euismod egestas. By the way, check out my <a href="#work">awesome work</a>.</p>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis dapibus rutrum facilisis. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Etiam tristique libero eu nibh porttitor fermentum. Nullam venenatis erat id vehicula viverra. Nunc ultrices eros ut ultricies condimentum. Mauris risus lacus, blandit sit amet venenatis non, bibendum vitae dolor. Nunc lorem mauris, fringilla in aliquam at, euismod in lectus. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. In non lorem sit amet elit placerat maximus. Pellentesque aliquam maximus risus, vel sed vehicula.</p>
                        </article>
                    </div>
                </div>
                    <!-- BG -->
                    <div id="bg"></div>
                    
                    <!-- Scripts -->
                     
                    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                    <script src="assets/js/jquery.min.js"></script>
                    <script src="assets/js/browser.min.js"></script>
                    <script src="assets/js/breakpoints.min.js"></script>
                    <script src="assets/js/util.js"></script>
                    <script src="assets/js/main.js"></script>
                        <!-- Include html2canvas -->
                        <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>


                        <script>
                            $(document).ready(function() {
                                $('#bingoTable').updateImageUrls();
                                setTimeout(function() {
                                $('.logo .fas').removeClass('spin');
                                }, 500); // Remove the spin class after 0.5 seconds

                                // Add click event listener to update image URL on click
                                $('#bingoTable img').on('click', function() {
                                    var $img = $(this);
                                    var folders = ['SV', 'SS', 'XY', 'BW', 'DPPT', 'HGSS', 'GSC', 'RSE']; // Add more folders as needed
                                    var isValidImage = false;

                                    function tryLoadImage() {
                                        var randomFolder = folders[Math.floor(Math.random() * folders.length)];
                                        var randomNum = Math.floor(Math.random() * 1025) + 1;
                                        var formattedNum = randomNum.toString().padStart(3, '0');
                                        var newUrl = 'images/Pokemon/' + randomFolder + '/' + formattedNum + '.png';

                                        // Check if the image exists
                                        var img = new Image();
                                        img.src = newUrl;
                                        img.onload = function() {
                                            isValidImage = true;
                                            $img.attr('src', newUrl);
                                        };
                                        img.onerror = function() {
                                            isValidImage = false;
                                            tryLoadImage(); // Try loading another image
                                        };
                                    }

                                    tryLoadImage();
                                });

                                // Add click event listener to set free space image
                                $('#freeSpaceButton').on('click', function() {
                                var freeSpaceNumber = $('#freeSpaceNumber').val();
                                var freeSpaceGeneration = $('#freeSpaceGeneration').val();
                                if (freeSpaceNumber >= 1 && freeSpaceNumber <= 1025) {
                                    var formattedNum = freeSpaceNumber.toString().padStart(3, '0');
                                    var newUrl = 'images/Pokemon/' + freeSpaceGeneration + '/' + formattedNum + '.png';
                                    
                                    // Check if the image exists
                                    var img = new Image();
                                    img.src = newUrl;
                                    img.onload = function() {
                                        $('#freeSpace').attr('src', newUrl);
                                    };
                                    img.onerror = function() {
                                        alert('Number too high for given era. Please enter a valid number.');
                                    };
                                } else {
                                    alert('Please enter a number between 1 and 1025.');
                                }
                            });

                                // Add click event listener to export table as PNG
                                $('#exportButton').on('click', function() {
                                    html2canvas(document.querySelector("#exportArea"), {
                                        logging: true,
                                        scale: 2,
                                        backgroundColor: null
                                    }).then(canvas => {
                                        var link = document.createElement('a');
                                        link.href = canvas.toDataURL();
                                        link.download = 'bingoTable.png';
                                        link.click();
                                    }).catch(function (error) {
                                        console.error('Error capturing the table:', error);
                                    });
                                });
                            });
                        </script>
                </body>
            </html>
            